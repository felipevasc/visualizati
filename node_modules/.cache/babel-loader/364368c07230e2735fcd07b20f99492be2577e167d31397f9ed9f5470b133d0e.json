{"ast":null,"code":"var _jsxFileName = \"/opt/dev/visualizati/src/pages/Estrutura/index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { URL_CONSULTA_UNIDADE, URL_ESTRUTURA_ORGANIZACIONAL_RESUMIDA } from \"../../utils/constants\";\nimport { mapUnidade } from \"../../utils/maps\";\nimport { ORGAOS_SISP } from \"../../utils/ORGAOS_SISP\";\nimport Table from \"../../components/Table\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Estrutura = () => {\n  _s();\n  const [unidades, setUnidades] = useState();\n  useEffect(() => {\n    const consultar = async () => {\n      var _r$unidades;\n      const req = await fetch(URL_ESTRUTURA_ORGANIZACIONAL_RESUMIDA(26));\n      const r = await req.json();\n      const unidadesTmp = mapUnidade(r === null || r === void 0 ? void 0 : (_r$unidades = r.unidades) === null || _r$unidades === void 0 ? void 0 : _r$unidades.filter(u => ORGAOS_SISP.map(o => o.sigla).includes(u.sigla)));\n      const unidadesComCollapse = unidadesTmp === null || unidadesTmp === void 0 ? void 0 : unidadesTmp.map(u => {\n        return {\n          collapse: '',\n          ...u\n        };\n      });\n      for (let i = 0; i < unidadesComCollapse.length; i++) {\n        var _unidadesComCollapse$;\n        if (!(unidadesComCollapse !== null && unidadesComCollapse !== void 0 && (_unidadesComCollapse$ = unidadesComCollapse[i]) !== null && _unidadesComCollapse$ !== void 0 && _unidadesComCollapse$.codigoUnidade)) {\n          continue;\n        }\n        const req = await fetch(URL_CONSULTA_UNIDADE());\n      }\n      setUnidades(unidadesComCollapse);\n    };\n    consultar();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      data: unidades !== null && unidades !== void 0 ? unidades : []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Estrutura, \"spRHOd70bMjl/8IMKj1/vD7wxmU=\");\n_c = Estrutura;\nexport default Estrutura;\nvar _c;\n$RefreshReg$(_c, \"Estrutura\");","map":{"version":3,"names":["useEffect","useState","URL_CONSULTA_UNIDADE","URL_ESTRUTURA_ORGANIZACIONAL_RESUMIDA","mapUnidade","ORGAOS_SISP","Table","jsxDEV","_jsxDEV","Fragment","_Fragment","Estrutura","_s","unidades","setUnidades","consultar","_r$unidades","req","fetch","r","json","unidadesTmp","filter","u","map","o","sigla","includes","unidadesComCollapse","collapse","i","length","_unidadesComCollapse$","codigoUnidade","children","data","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/opt/dev/visualizati/src/pages/Estrutura/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { URL_CONSULTA_UNIDADE, URL_ESTRUTURA_ORGANIZACIONAL_RESUMIDA } from \"../../utils/constants\";\nimport { Unidade } from \"../../types/Unidade\";\nimport { mapUnidade } from \"../../utils/maps\";\nimport { ORGAOS_SISP } from \"../../utils/ORGAOS_SISP\";\nimport Table from \"../../components/Table\";\n\n\nconst Estrutura = () => {\n    const [unidades, setUnidades] = useState<Unidade[]>();\n\n    useEffect(() => {\n        const consultar = async () => {\n\n            const req = await fetch(URL_ESTRUTURA_ORGANIZACIONAL_RESUMIDA(26))\n            const r = await req.json();\n            const unidadesTmp = mapUnidade(r?.unidades?.filter((u: Unidade) => ORGAOS_SISP.map(o => o.sigla).includes(u.sigla)));\n            \n\n            const unidadesComCollapse = unidadesTmp?.map(u => {\n                return {collapse: '', ...u }\n            });\n            for (let i = 0; i < unidadesComCollapse.length; i++) {\n                if (!unidadesComCollapse?.[i]?.codigoUnidade) {\n                    continue\n                }\n                const req = await fetch(URL_CONSULTA_UNIDADE())\n            }\n\n            setUnidades(unidadesComCollapse);\n        }\n        consultar()\n    }, [])\n\n    return <>\n        <Table data={unidades ?? []} />\n    </>\n}\n\nexport default Estrutura"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,oBAAoB,EAAEC,qCAAqC,QAAQ,uBAAuB;AAEnG,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,KAAK,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAG3C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAY,CAAC;EAErDD,SAAS,CAAC,MAAM;IACZ,MAAMe,SAAS,GAAG,MAAAA,CAAA,KAAY;MAAA,IAAAC,WAAA;MAE1B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACf,qCAAqC,CAAC,EAAE,CAAC,CAAC;MAClE,MAAMgB,CAAC,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC1B,MAAMC,WAAW,GAAGjB,UAAU,CAACe,CAAC,aAADA,CAAC,wBAAAH,WAAA,GAADG,CAAC,CAAEN,QAAQ,cAAAG,WAAA,uBAAXA,WAAA,CAAaM,MAAM,CAAEC,CAAU,IAAKlB,WAAW,CAACmB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,CAACC,QAAQ,CAACJ,CAAC,CAACG,KAAK,CAAC,CAAC,CAAC;MAGpH,MAAME,mBAAmB,GAAGP,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,GAAG,CAACD,CAAC,IAAI;QAC9C,OAAO;UAACM,QAAQ,EAAE,EAAE;UAAE,GAAGN;QAAE,CAAC;MAChC,CAAC,CAAC;MACF,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,mBAAmB,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QAAA,IAAAE,qBAAA;QACjD,IAAI,EAACJ,mBAAmB,aAAnBA,mBAAmB,gBAAAI,qBAAA,GAAnBJ,mBAAmB,CAAGE,CAAC,CAAC,cAAAE,qBAAA,eAAxBA,qBAAA,CAA0BC,aAAa,GAAE;UAC1C;QACJ;QACA,MAAMhB,GAAG,GAAG,MAAMC,KAAK,CAAChB,oBAAoB,CAAC,CAAC,CAAC;MACnD;MAEAY,WAAW,CAACc,mBAAmB,CAAC;IACpC,CAAC;IACDb,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOP,OAAA,CAAAE,SAAA;IAAAwB,QAAA,eACH1B,OAAA,CAACF,KAAK;MAAC6B,IAAI,EAAEtB,QAAQ,aAARA,QAAQ,cAARA,QAAQ,GAAI;IAAG;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC,gBACjC,CAAC;AACP,CAAC;AAAA3B,EAAA,CA7BKD,SAAS;AAAA6B,EAAA,GAAT7B,SAAS;AA+Bf,eAAeA,SAAS;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}